{"ast":null,"code":"import _classCallCheck from \"/home/tony/github/LeftOver-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tony/github/LeftOver-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tony/github/LeftOver-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tony/github/LeftOver-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tony/github/LeftOver-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tony/github/LeftOver-website/src/containers/Ingredients/IngredientsPage.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport IngredientNavbar from '../../components/Navbar/IngredientNavbar';\nimport IngredientListItem from '../../components/IngredientListItem';\nimport SearchBar from '../../components/SearchBar/SearchBar';\nimport ButtonSwag from '../../components/ButtonSwag/ButtonSwag';\nimport IngredientsCollector from '../../components/IngredientsCollector/IngredientsCollector';\nimport { getBDDIngredients } from '../../APIManager';\n\nvar IngerdientList = function IngerdientList(_ref) {\n  var list = _ref.list,\n      ingredients = _ref.ingredients;\n  return React.createElement(\"div\", {\n    className: \"list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, list.map(function (item, index) {\n    for (var i = 0; i < ingredients.length; i += 1) {\n      if (ingredients[i].name.toLowerCase() === item.name.toLowerCase()) {\n        return '';\n      }\n    }\n\n    return React.createElement(\"div\", {\n      key: item.name + index.toString(),\n      className: \"elem-3col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(IngredientListItem, {\n      key: item.name,\n      item: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }));\n  }));\n};\n\nIngerdientList.propTypes = {\n  list: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string, PropTypes.string)).isRequired,\n  ingredients: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string, PropTypes.string)).isRequired\n};\n\nvar IngredientsPage =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(IngredientsPage, _React$PureComponent);\n\n  function IngredientsPage(props) {\n    var _this;\n\n    _classCallCheck(this, IngredientsPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(IngredientsPage).call(this, props));\n\n    _this.getIngredients = function () {\n      getBDDIngredients().then(function (list) {\n        _this.dbIngredients = list;\n\n        _this.setState({\n          list: list\n        });\n      }).catch(function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n    };\n\n    _this.filter = function (text) {\n      if (text) {\n        var lowerText = text.toLowerCase();\n\n        var list = _this.dbIngredients.filter(function (item) {\n          return item.name.toLowerCase().includes(lowerText);\n        });\n\n        _this.setState({\n          list: list\n        });\n      } else {\n        _this.setState({\n          list: _this.dbIngredients\n        });\n      }\n    };\n\n    _this.dbIngredients = [];\n\n    _this.getIngredients();\n\n    _this.state = {\n      list: _this.dbIngredients,\n      error: ''\n    };\n    return _this;\n  }\n\n  _createClass(IngredientsPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          list = _this$state.list,\n          error = _this$state.error;\n      var _this$props = this.props,\n          ingredients = _this$props.ingredients,\n          history = _this$props.history;\n      return React.createElement(\"div\", {\n        className: \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(IngredientNavbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row max-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(IngredientsCollector, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"page-content\",\n        style: {\n          flex: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Choose your ingredients\")), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        holder: \"Search ingredient...\",\n        changeHandler: this.filter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), ingredients.length > 0 ? React.createElement(ButtonSwag, {\n        text: \"Check the recipes !\",\n        style: {\n          marginRight: '3%'\n        },\n        onClick: function onClick() {\n          return history.push('receips');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }) : React.createElement(ButtonSwag, {\n        text: \"Check the recipes !\",\n        style: {\n          marginRight: '3%'\n        },\n        onClick: function onClick() {\n          return history.push('receips');\n        },\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), error ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, error) : React.createElement(IngerdientList, {\n        list: list,\n        ingredients: ingredients,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return IngredientsPage;\n}(React.PureComponent);\n\nIngredientsPage.propTypes = {\n  ingredients: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string, PropTypes.string)).isRequired,\n  history: PropTypes.shape({\n    length: PropTypes.number,\n    search: PropTypes.string,\n    hash: PropTypes.string\n  }).isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    ingredients: state.ingredients.list\n  };\n};\n\nexport default connect(mapStateToProps)(IngredientsPage);","map":{"version":3,"sources":["/home/tony/github/LeftOver-website/src/containers/Ingredients/IngredientsPage.jsx"],"names":["React","PropTypes","connect","IngredientNavbar","IngredientListItem","SearchBar","ButtonSwag","IngredientsCollector","getBDDIngredients","IngerdientList","list","ingredients","map","item","index","i","length","name","toLowerCase","toString","propTypes","arrayOf","objectOf","string","isRequired","IngredientsPage","props","getIngredients","then","dbIngredients","setState","catch","error","filter","text","lowerText","includes","state","history","flex","marginRight","push","PureComponent","shape","number","search","hash","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport IngredientNavbar from '../../components/Navbar/IngredientNavbar';\nimport IngredientListItem from '../../components/IngredientListItem';\nimport SearchBar from '../../components/SearchBar/SearchBar';\nimport ButtonSwag from '../../components/ButtonSwag/ButtonSwag';\nimport IngredientsCollector from '../../components/IngredientsCollector/IngredientsCollector';\nimport { getBDDIngredients } from '../../APIManager';\n\nconst IngerdientList = ({ list, ingredients }) => (\n  <div className=\"list\">\n    {list.map((item, index) => {\n      for (let i = 0; i < ingredients.length; i += 1) {\n        if (ingredients[i].name.toLowerCase() === item.name.toLowerCase()) {\n          return '';\n        }\n      }\n      return (\n        <div key={item.name + index.toString()} className=\"elem-3col\">\n          <IngredientListItem key={item.name} item={item} />\n        </div>\n      );\n    })}\n  </div>\n);\n\nIngerdientList.propTypes = {\n  list: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string, PropTypes.string)).isRequired,\n  ingredients: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string, PropTypes.string)).isRequired,\n};\n\nclass IngredientsPage extends React.PureComponent {\n  static propTypes = {\n    ingredients: PropTypes.arrayOf(\n      PropTypes.objectOf(PropTypes.string, PropTypes.string),\n    ).isRequired,\n    history: PropTypes.shape({\n      length: PropTypes.number,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }).isRequired,\n  }\n\n  constructor(props) {\n    super(props);\n    this.dbIngredients = [];\n    this.getIngredients();\n    this.state = {\n      list: this.dbIngredients,\n      error: '',\n    };\n  }\n\n  getIngredients = () => {\n    getBDDIngredients()\n      .then((list) => {\n        this.dbIngredients = list;\n        this.setState({ list });\n      })\n      .catch((error) => {\n        this.setState({ error });\n      });\n  }\n\n  filter = (text) => {\n    if (text) {\n      const lowerText = text.toLowerCase();\n      const list = this.dbIngredients.filter(item => (\n        item.name.toLowerCase().includes(lowerText)\n      ));\n      this.setState({ list });\n    } else {\n      this.setState({ list: this.dbIngredients });\n    }\n  };\n\n  render() {\n    const { list, error } = this.state;\n    const { ingredients, history } = this.props;\n    return (\n      <div className=\"page\">\n        <IngredientNavbar />\n        <div className=\"row max-height\">\n          <IngredientsCollector />\n          <div className=\"page-content\" style={{ flex: 3 }}>\n            <div className=\"row center\">\n              <h2>Choose your ingredients</h2>\n            </div>\n            <div className=\"row\">\n              <SearchBar holder=\"Search ingredient...\" changeHandler={this.filter} />\n              { ingredients.length > 0\n                ? <ButtonSwag text=\"Check the recipes !\" style={{ marginRight: '3%' }} onClick={() => history.push('receips')} />\n                : <ButtonSwag text=\"Check the recipes !\" style={{ marginRight: '3%' }} onClick={() => history.push('receips')} disabled /> }\n            </div>\n            { error ? <p>{error}</p>\n              : <IngerdientList list={list} ingredients={ingredients} /> }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({ ingredients: state.ingredients.list });\n\nexport default connect(mapStateToProps)(IngredientsPage);\n"]},"metadata":{},"sourceType":"module"}